# Makefile.PL for WebAuth Perl bindings.  -*- perl -*-
# $Id$

# Currently, the .libs directory where libwebauth is built is coded into
# the rpath of the Perl module.  This is less than ideal, and arguably
# poses a minor security risk.  However, at present, the alternative seems
# to be requiring libwebauth be installed before building the Perl module.

use ExtUtils::MakeMaker;
WriteMakefile (
    NAME                => 'WebAuth',
    VERSION_FROM        => 'WebAuth.pm',
    ($] >= 5.005 ?
      (ABSTRACT_FROM    => 'WebAuth.pm',
       AUTHOR           => 'Roland Schemers (schemers@stanford.edu)') : ()),
    INC                 => '-I@top_srcdir@/src/libwebauth',
    LIBS                => '-L@abs_top_builddir@/src/libwebauth/.libs'
                           . ' -R@abs_top_builddir@/src/libwebauth/.libs'
                           . ' -lwebauth @CRYPTO_LIBS@ @KRB5_LIBS@ @LIBS@'
);
