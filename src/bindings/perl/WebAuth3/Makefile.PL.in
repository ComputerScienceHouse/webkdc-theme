# Makefile.PL for WebAuth3 Perl bindings.  -*- perl -*-
# $Id$

# Currently, the .libs directory where libwebauth is built is coded into
# the rpath of the Perl module.  This is less than ideal, and arguably
# poses a minor security risk.  However, at present, the alternative seems
# to be requiring libwebauth be installed before building the Perl module.

use ExtUtils::MakeMaker;
WriteMakefile (
    NAME              => 'WebAuth3',
    VERSION_FROM      => 'WebAuth3.pm',
    ($] >= 5.005 ?
      (ABSTRACT_FROM  => 'WebAuth3.pm',
       AUTHOR         => 'Roland Schemers (schemers@stanford.edu)') : ()),
    INC               => '-I@top_srcdir@/src/libwebauth',
    LIBS              => '-L@abs_top_builddir@/src/libwebauth/.libs'
                         . ' -R@abs_top_builddir@/src/libwebauth/.libs'
                         . ' -lwebauth @CRYPTO_LIBS@ @KRB5_LIBS@ @LIBS@',
    clean             => { FILES => 'webauth_keyring webauth_keyring2' }
);
