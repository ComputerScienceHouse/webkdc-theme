# -*- conf -*-
#
# Default configuration for perlcritic.  Be sure to copy this into the source
# for packages that run perlcritic tests automatically during the build for
# reproducible test results.
  
severity = 1
verbose  = %f:%l:%c: [%p] %m (%e, Severity: %s)\n

# This is handled with a separate test case that uses Test::Spelling.
[-Documentation::PodSpelling]

# The POD sections Perl::Critic wants are incompatible with the POD template
# from perlpodstyle, which is what I use for my POD documentation.
[-Documentation::RequirePodSections]

# The 1990s called and would like their VCS back.
[-Miscellanea::RequireRcsKeywords]

# This is correct 80% of the time, but it isn't correct for a lot of scripts
# inside packages, where maintaining $VERSION isn't worth the effort.
# Unfortunately, there's no way to override it, so it gets turned off
# globally.
[-Modules::RequireVersionVar]

# The default is a bit too aggressive.  I was unable to write an Apache access
# log regex with each major expression broken into a separate variable and fit
# the default limit of 40 characters.  (It's not clear how the variable names
# are counted, but they don't seem to be by number of characters in the
# variable reference.)
[RegularExpressions::ProhibitComplexRegexes]
max_characters = 65

# Nice idea, but it *utterly* confuses cperl-mode when used with braces, so
# it's more trouble than it's worth.
[-RegularExpressions::ProhibitEscapedMetacharacters]

# 100 is used for calculating percentages.  Making it a constant is just
# confusing.
#
# Literal 0777 means to use the umask for permissions when creating files.
# Using a constant for this just makes it more obscure.  0777 is 511 in
# decimal.
[ValuesAndExpressions::ProhibitMagicNumbers]
allowed_types  = Octal
allowed_values = 0 1 2 100 511

# use English was one of the worst ideas in the history of Perl.  It makes the
# code slightly more readable for amateurs at the cost of confusing
# experienced Perl programmers and sending people in futile quests for where
# these magical global variables are defined.
[-Variables::ProhibitPunctuationVars]
